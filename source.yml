name: rock
required_autoproj_version: 1.7.4

imports:
    - gitorious: rock-base/package_set

version_control:
    - control/.*:
        gitorious: rock-control/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - control/orogen/.*:
        gitorious: rock-control/orogen-$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - drivers/.*:
        gitorious: rock-drivers/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - drivers/orogen/.*:
        gitorious: rock-drivers/orogen-$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - planning/.*:
        gitorious: rock-planning/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - planning/orogen/.*:
        gitorious: rock-planning/orogen-$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - external/libply:
        gitorious: rock-slam/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - slam/.*:
        gitorious: rock-slam/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - bundles/rock:
        gitorious: rock/bundle.git
        branch: $ROCK_FLAVOR

    - bundles/rock_ugv_nav:
        gitorious: rock/bundle-rock_ugv_nav.git
        branch: $ROCK_FLAVOR

    - slam/orogen/.*:
        gitorious: rock-slam/orogen-$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - gui/.*:
        gitorious: rock-gui/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - gui/ffmpeg-ruby:
        branch: master
      
    - image_processing/.*:
        gitorious: rock-image-processing/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - image_processing/orogen/.*:
        gitorious: rock-image-processing/orogen-$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR
    
    - multiagent/.*:
        gitorious: rock-multiagent/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - multiagent/orogen/.*:
        gitorious: rock-multiagent/orogen-$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - external/yaml-cpp:
        type: archive
        url: http://yaml-cpp.googlecode.com/files/yaml-cpp-0.2.5.tar.gz
        update_cached_file: false

    - external/opencv:
        type: archive
        url: http://downloads.sourceforge.net/project/opencvlibrary/opencv-unix/2.3/OpenCV-2.3.0.tar.bz2
        update_cached_file: false

    - slam/pcl:
        type: archive
        url: 'http://sourceforge.net/projects/pointclouds/files/1.6.0/PCL-1.6.0-Source.tar.bz2'
        update_cached_file: false

    - slam/flann:
        type: archive
        url: http://people.cs.ubc.ca/~mariusm/uploads/FLANN/flann-1.6.11-src.zip 
        archive_dir: flann-1.6.11-src
        update_cached_file: false

    - external/cminpack:
        type: archive
        url: http://devernay.free.fr/hacks/cminpack/cminpack-1.1.3.tar.gz 
        update_cached_file: false

    - slam/hogman:
        type: svn
        url: http://svn.openslam.org/data/svn/hog-man/trunk 
        patches:
            - $AUTOPROJ_SOURCE_DIR/patches/hogman.patch
    
    - slam/g2o:
        type: svn
        url: http://svn.openslam.org/data/svn/g2o/trunk 
        patches:
            - $AUTOPROJ_SOURCE_DIR/patches/g2o.patch
            - $AUTOPROJ_SOURCE_DIR/patches/g2o_visodo_slam.patch
    
    - external/tinyxml: 
        type: archive
        url: http://sourceforge.net/projects/tinyxml/files/tinyxml/2.6.2/tinyxml_2_6_2.zip
        update_cached_file: false
        patches: $AUTOPROJ_SOURCE_DIR/patches/tinyxml_cmake.patch

    - external/kdtree:
        type: archive
        url: http://ftp.de.debian.org/debian/pool/main/libk/libkdtree++/libkdtree++_0.7.0.orig.tar.gz
        update_cached_file: false
        patches: $AUTOPROJ_SOURCE_DIR/patches/libkdtree++_0.7.0-2.diff

    - external/gdal:
        type: archive
        url: http://download.osgeo.org/gdal/gdal-1.9.2.tar.gz
        update_cached_file: false
        patches: [$AUTOPROJ_SOURCE_DIR/patches/gdal.patch, $AUTOPROJ_SOURCE_DIR/patches/gdal_close.patch]

    - control/kdl:
        type: git
        branch: master
        url: http://git.mech.kuleuven.be/robotics/orocos_kinematics_dynamics.git
        push_to: http://git.mech.kuleuven.be/robotics/orocos_kinematics_dynamics.git
        patches:
            - $AUTOPROJ_SOURCE_DIR/patches/orocos_kdl.patch
            - [$AUTOPROJ_SOURCE_DIR/patches/orocos_kdl_eigen.patch, 1]
            - $AUTOPROJ_SOURCE_DIR/patches/orocos_kdl_fix_eigen3_fallback.patch

    - external/freenect:
        type: git
        url: git://github.com/OpenKinect/libfreenect.git
        branch: master

    - data_processing/*:
        gitorious: rock-data-processing/$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - data_processing/orogen/.*:
        gitorious: rock-data-processing/orogen-$PACKAGE_BASENAME
        branch: $ROCK_FLAVOR

    - drivers/aria:
        type: archive
        url: http://rock-robotics.org/archives/ARIA-2.7.5.2.tgz
        no_subriectory: false
        update_cached_file: false
        patches: $AUTOPROJ_SOURCE_DIR/patches/aria_pc.patch
        

